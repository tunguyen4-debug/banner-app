{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ntq.L-AI-TUNV4/ai-banner-app/src/app/editor/prompt-editor.tsx"],"sourcesContent":["\"use client\";\n\ninterface PromptEditorProps {\n  basePrompt: string;\n  userPrompt: string;\n  onPromptChange: (prompt: string) => void;\n  onGenerate: () => void;\n  onRegenerate: () => void;\n  isGenerating: boolean;\n  hasDesign: boolean;\n}\n\nexport function PromptEditor({\n  basePrompt,\n  userPrompt,\n  onPromptChange,\n  onGenerate,\n  onRegenerate,\n  isGenerating,\n  hasDesign,\n}: PromptEditorProps) {\n  return (\n    <div className=\"space-y-4 rounded-xl border border-slate-800 bg-slate-900/70 p-4\">\n      <div className=\"space-y-2\">\n        <label className=\"text-xs font-semibold uppercase tracking-[0.14em] text-slate-400\">\n          Edit Prompt\n        </label>\n        <textarea\n          value={userPrompt}\n          onChange={(e) => onPromptChange(e.target.value)}\n          placeholder=\"Add your custom instructions... e.g., 'Make background gradient blue', 'Use minimalist style', 'Add 50% discount badge'\"\n          className=\"min-h-[120px] w-full rounded-lg border border-slate-700 bg-slate-950/60 px-3 py-2 text-xs text-slate-100 placeholder:text-slate-500 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500/50\"\n          disabled={isGenerating}\n        />\n        {basePrompt && (\n          <div className=\"rounded-lg border border-slate-800 bg-slate-950/40 p-2\">\n            <p className=\"text-[10px] font-semibold uppercase tracking-[0.16em] text-slate-500\">\n              Base Prompt\n            </p>\n            <p className=\"mt-1 text-[11px] text-slate-400\">{basePrompt}</p>\n          </div>\n        )}\n      </div>\n\n      <div className=\"flex gap-2\">\n        {!hasDesign ? (\n          <button\n            onClick={onGenerate}\n            disabled={isGenerating}\n            className=\"flex-1 rounded-lg bg-gradient-to-r from-indigo-500 via-purple-500 to-cyan-500 px-4 py-2.5 text-xs font-medium text-white shadow-lg shadow-indigo-500/30 transition hover:shadow-indigo-500/50 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {isGenerating ? (\n              <span className=\"flex items-center justify-center gap-2\">\n                <span className=\"h-3 w-3 animate-spin rounded-full border-2 border-white/30 border-t-white\" />\n                Generating...\n              </span>\n            ) : (\n              \"Generate Banner\"\n            )}\n          </button>\n        ) : (\n          <button\n            onClick={onRegenerate}\n            disabled={isGenerating}\n            className=\"flex-1 rounded-lg bg-indigo-500 px-4 py-2.5 text-xs font-medium text-white transition hover:bg-indigo-400 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {isGenerating ? (\n              <span className=\"flex items-center justify-center gap-2\">\n                <span className=\"h-3 w-3 animate-spin rounded-full border-2 border-white/30 border-t-white\" />\n                Regenerating...\n              </span>\n            ) : (\n              \"Regenerate\"\n            )}\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAYO,SAAS,aAAa,EAC3B,UAAU,EACV,UAAU,EACV,cAAc,EACd,UAAU,EACV,YAAY,EACZ,YAAY,EACZ,SAAS,EACS;IAClB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAM,WAAU;kCAAmE;;;;;;kCAGpF,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC9C,aAAY;wBACZ,WAAU;wBACV,UAAU;;;;;;oBAEX,4BACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAAuE;;;;;;0CAGpF,8OAAC;gCAAE,WAAU;0CAAmC;;;;;;;;;;;;;;;;;;0BAKtD,8OAAC;gBAAI,WAAU;0BACZ,CAAC,0BACA,8OAAC;oBACC,SAAS;oBACT,UAAU;oBACV,WAAU;8BAET,6BACC,8OAAC;wBAAK,WAAU;;0CACd,8OAAC;gCAAK,WAAU;;;;;;4BAA8E;;;;;;+BAIhG;;;;;yCAIJ,8OAAC;oBACC,SAAS;oBACT,UAAU;oBACV,WAAU;8BAET,6BACC,8OAAC;wBAAK,WAAU;;0CACd,8OAAC;gCAAK,WAAU;;;;;;4BAA8E;;;;;;+BAIhG;;;;;;;;;;;;;;;;;AAOd"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ntq.L-AI-TUNV4/ai-banner-app/src/app/editor/design-preview.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Image from \"next/image\";\nimport toast from \"react-hot-toast\";\n\ninterface Concept {\n  headline: string;\n  subheadline: string;\n  cta: string;\n  styleGuide: {\n    colors: string[];\n    font: string;\n    mood: string;\n  };\n}\n\ninterface DesignPreviewProps {\n  design: {\n    imageUrl?: string;\n    htmlLayout?: string;\n    css?: string;\n    promptUsed?: string;\n  } | null;\n  isGenerating: boolean;\n  selectedConcept: Concept | null;\n}\n\nexport function DesignPreview({\n  design,\n  isGenerating,\n  selectedConcept,\n}: DesignPreviewProps) {\n  const [viewMode, setViewMode] = useState<\"image\" | \"code\">(\"image\");\n\n  return (\n    <div className=\"flex h-full flex-col rounded-xl border border-slate-800 bg-slate-900/70\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between border-b border-slate-800 p-4\">\n        <h2 className=\"text-sm font-semibold text-slate-100\">Design Preview</h2>\n        {design && (\n          <div className=\"flex items-center gap-2\">\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => setViewMode(\"image\")}\n                className={`rounded-lg px-3 py-1 text-xs font-medium transition ${\n                  viewMode === \"image\"\n                    ? \"bg-indigo-500 text-white\"\n                    : \"bg-slate-800 text-slate-400 hover:bg-slate-700\"\n                }`}\n              >\n                Image\n              </button>\n              <button\n                onClick={() => setViewMode(\"code\")}\n                className={`rounded-lg px-3 py-1 text-xs font-medium transition ${\n                  viewMode === \"code\"\n                    ? \"bg-indigo-500 text-white\"\n                    : \"bg-slate-800 text-slate-400 hover:bg-slate-700\"\n                }`}\n              >\n                Code\n              </button>\n            </div>\n            {design.imageUrl && (\n              <button\n                onClick={() => {\n                  if (design.imageUrl) {\n                    window.open(design.imageUrl, \"_blank\");\n                    toast.success(\"Opened image in new tab\");\n                  }\n                }}\n                className=\"rounded-lg border border-slate-700 px-3 py-1 text-xs font-medium text-slate-300 transition hover:border-slate-600 hover:bg-slate-800\"\n                title=\"Open image in new tab\"\n              >\n                Open\n              </button>\n            )}\n            {design.htmlLayout && design.css && (\n              <button\n                onClick={() => {\n                  const fullCode = `<!DOCTYPE html>\n<html>\n<head>\n  <style>\n${design.css}\n  </style>\n</head>\n<body>\n${design.htmlLayout}\n</body>\n</html>`;\n                  navigator.clipboard.writeText(fullCode);\n                  toast.success(\"HTML/CSS copied to clipboard!\");\n                }}\n                className=\"rounded-lg border border-slate-700 px-3 py-1 text-xs font-medium text-slate-300 transition hover:border-slate-600 hover:bg-slate-800\"\n                title=\"Copy HTML/CSS\"\n              >\n                Copy Code\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-auto p-6\">\n        {isGenerating && !design && (\n          <div className=\"flex h-full items-center justify-center\">\n            <div className=\"text-center\">\n              <div className=\"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-4 border-slate-700 border-t-indigo-500\" />\n              <p className=\"text-sm text-slate-400\">Generating your banner...</p>\n            </div>\n          </div>\n        )}\n\n        {!isGenerating && !design && (\n          <div className=\"flex h-full items-center justify-center\">\n            <div className=\"text-center space-y-3\">\n              <div className=\"mx-auto h-16 w-16 rounded-2xl border-2 border-dashed border-slate-700 flex items-center justify-center\">\n                <span className=\"text-2xl text-slate-600\">ðŸŽ¨</span>\n              </div>\n              <p className=\"text-sm text-slate-400\">\n                {selectedConcept\n                  ? \"Click 'Generate Banner' to create your design\"\n                  : \"Select a concept or enter a prompt to generate\"}\n              </p>\n            </div>\n          </div>\n        )}\n\n        {design && viewMode === \"image\" && design.imageUrl && (\n          <div className=\"flex items-center justify-center\">\n            <div className=\"relative w-full max-w-4xl\">\n              <div className=\"relative aspect-[3/1] w-full overflow-hidden rounded-lg border border-slate-800 bg-slate-950\">\n                <Image\n                  src={design.imageUrl}\n                  alt=\"Generated banner\"\n                  fill\n                  className=\"object-contain\"\n                  unoptimized\n                />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {design && viewMode === \"code\" && (\n          <div className=\"space-y-4\">\n            {design.htmlLayout && (\n              <div>\n                <p className=\"mb-2 text-xs font-semibold uppercase tracking-[0.14em] text-slate-400\">\n                  HTML\n                </p>\n                <pre className=\"overflow-x-auto rounded-lg border border-slate-800 bg-slate-950 p-4 text-[11px] text-slate-300\">\n                  <code>{design.htmlLayout}</code>\n                </pre>\n              </div>\n            )}\n            {design.css && (\n              <div>\n                <p className=\"mb-2 text-xs font-semibold uppercase tracking-[0.14em] text-slate-400\">\n                  CSS\n                </p>\n                <pre className=\"overflow-x-auto rounded-lg border border-slate-800 bg-slate-950 p-4 text-[11px] text-slate-300\">\n                  <code>{design.css}</code>\n                </pre>\n              </div>\n            )}\n            {design.htmlLayout && design.css && (\n              <div>\n                <p className=\"mb-2 text-xs font-semibold uppercase tracking-[0.14em] text-slate-400\">\n                  Live Preview\n                </p>\n                <div className=\"rounded-lg border border-slate-800 bg-white p-4\">\n                  <style dangerouslySetInnerHTML={{ __html: design.css }} />\n                  <div\n                    dangerouslySetInnerHTML={{ __html: design.htmlLayout }}\n                    className=\"banner-preview\"\n                  />\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AA4BO,SAAS,cAAc,EAC5B,MAAM,EACN,YAAY,EACZ,eAAe,EACI;IACnB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAmB;IAE3D,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAuC;;;;;;oBACpD,wBACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,SAAS,IAAM,YAAY;wCAC3B,WAAW,CAAC,oDAAoD,EAC9D,aAAa,UACT,6BACA,kDACJ;kDACH;;;;;;kDAGD,8OAAC;wCACC,SAAS,IAAM,YAAY;wCAC3B,WAAW,CAAC,oDAAoD,EAC9D,aAAa,SACT,6BACA,kDACJ;kDACH;;;;;;;;;;;;4BAIF,OAAO,QAAQ,kBACd,8OAAC;gCACC,SAAS;oCACP,IAAI,OAAO,QAAQ,EAAE;wCACnB,OAAO,IAAI,CAAC,OAAO,QAAQ,EAAE;wCAC7B,kKAAK,CAAC,OAAO,CAAC;oCAChB;gCACF;gCACA,WAAU;gCACV,OAAM;0CACP;;;;;;4BAIF,OAAO,UAAU,IAAI,OAAO,GAAG,kBAC9B,8OAAC;gCACC,SAAS;oCACP,MAAM,WAAW,CAAC;;;;AAIpC,EAAE,OAAO,GAAG,CAAC;;;;AAIb,EAAE,OAAO,UAAU,CAAC;;OAEb,CAAC;oCACU,UAAU,SAAS,CAAC,SAAS,CAAC;oCAC9B,kKAAK,CAAC,OAAO,CAAC;gCAChB;gCACA,WAAU;gCACV,OAAM;0CACP;;;;;;;;;;;;;;;;;;0BAST,8OAAC;gBAAI,WAAU;;oBACZ,gBAAgB,CAAC,wBAChB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;;;;;8CACf,8OAAC;oCAAE,WAAU;8CAAyB;;;;;;;;;;;;;;;;;oBAK3C,CAAC,gBAAgB,CAAC,wBACjB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAK,WAAU;kDAA0B;;;;;;;;;;;8CAE5C,8OAAC;oCAAE,WAAU;8CACV,kBACG,kDACA;;;;;;;;;;;;;;;;;oBAMX,UAAU,aAAa,WAAW,OAAO,QAAQ,kBAChD,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,wIAAK;oCACJ,KAAK,OAAO,QAAQ;oCACpB,KAAI;oCACJ,IAAI;oCACJ,WAAU;oCACV,WAAW;;;;;;;;;;;;;;;;;;;;;oBAOpB,UAAU,aAAa,wBACtB,8OAAC;wBAAI,WAAU;;4BACZ,OAAO,UAAU,kBAChB,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAwE;;;;;;kDAGrF,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;sDAAM,OAAO,UAAU;;;;;;;;;;;;;;;;;4BAI7B,OAAO,GAAG,kBACT,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAwE;;;;;;kDAGrF,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;sDAAM,OAAO,GAAG;;;;;;;;;;;;;;;;;4BAItB,OAAO,UAAU,IAAI,OAAO,GAAG,kBAC9B,8OAAC;;kDACC,8OAAC;wCAAE,WAAU;kDAAwE;;;;;;kDAGrF,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAM,yBAAyB;oDAAE,QAAQ,OAAO,GAAG;gDAAC;;;;;;0DACrD,8OAAC;gDACC,yBAAyB;oDAAE,QAAQ,OAAO,UAAU;gDAAC;gDACrD,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU9B"}},
    {"offset": {"line": 500, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ntq.L-AI-TUNV4/ai-banner-app/src/app/editor/thinking-panel.tsx"],"sourcesContent":["\"use client\";\n\ninterface ThinkingStep {\n  step: string;\n  timestamp: number;\n  content?: string;\n  code?: string;\n}\n\ninterface ThinkingPanelProps {\n  thinkingSteps: ThinkingStep[];\n  promptUsed?: string;\n  isGenerating: boolean;\n}\n\nexport function ThinkingPanel({\n  thinkingSteps,\n  promptUsed,\n  isGenerating,\n}: ThinkingPanelProps) {\n  return (\n    <div className=\"flex h-full flex-col rounded-xl border border-slate-800 bg-slate-900/70\">\n      {/* Header */}\n      <div className=\"border-b border-slate-800 p-4\">\n        <h2 className=\"text-sm font-semibold text-slate-100\">AI Thinking</h2>\n        <p className=\"mt-1 text-[10px] text-slate-400\">\n          Real-time generation steps and code\n        </p>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-auto p-4\">\n        {isGenerating && thinkingSteps.length === 0 && (\n          <div className=\"text-center text-xs text-slate-400\">\n            <p>Waiting for generation to start...</p>\n          </div>\n        )}\n\n        {!isGenerating && thinkingSteps.length === 0 && (\n          <div className=\"text-center text-xs text-slate-400\">\n            <p>Thinking steps will appear here</p>\n          </div>\n        )}\n\n        {thinkingSteps.length > 0 && (\n          <div className=\"space-y-4\">\n            {/* Final Prompt */}\n            {promptUsed && (\n              <div className=\"rounded-lg border border-slate-800 bg-slate-950/60 p-3\">\n                <p className=\"mb-2 text-[10px] font-semibold uppercase tracking-[0.16em] text-slate-400\">\n                  Final Prompt\n                </p>\n                <p className=\"text-xs text-slate-300\">{promptUsed}</p>\n              </div>\n            )}\n\n            {/* Steps Timeline */}\n            <div className=\"space-y-3\">\n              {thinkingSteps.map((step, idx) => (\n                <div\n                  key={idx}\n                  className=\"relative rounded-lg border border-slate-800 bg-slate-950/60 p-3\"\n                >\n                  <div className=\"flex items-start gap-3\">\n                    <div className=\"mt-0.5 flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-indigo-500/20 text-[10px] font-semibold text-indigo-300\">\n                      {idx + 1}\n                    </div>\n                    <div className=\"flex-1 space-y-1\">\n                      <div className=\"flex items-center justify-between\">\n                        <p className=\"text-xs font-medium text-slate-200\">\n                          {step.step}\n                        </p>\n                        <span className=\"text-[10px] text-slate-500\">\n                          +{step.timestamp}ms\n                        </span>\n                      </div>\n                      {step.content && (\n                        <p className=\"text-[11px] text-slate-400\">\n                          {step.content}\n                        </p>\n                      )}\n                      {step.code && (\n                        <pre className=\"mt-2 overflow-x-auto rounded border border-slate-800 bg-slate-950 p-2 text-[10px] text-slate-300\">\n                          <code>{step.code}</code>\n                        </pre>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {isGenerating && (\n              <div className=\"flex items-center gap-2 rounded-lg border border-emerald-500/30 bg-emerald-500/10 p-3\">\n                <span className=\"h-2 w-2 animate-pulse rounded-full bg-emerald-400\" />\n                <p className=\"text-xs text-emerald-300\">Generating...</p>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAeO,SAAS,cAAc,EAC5B,aAAa,EACb,UAAU,EACV,YAAY,EACO;IACnB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAuC;;;;;;kCACrD,8OAAC;wBAAE,WAAU;kCAAkC;;;;;;;;;;;;0BAMjD,8OAAC;gBAAI,WAAU;;oBACZ,gBAAgB,cAAc,MAAM,KAAK,mBACxC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;sCAAE;;;;;;;;;;;oBAIN,CAAC,gBAAgB,cAAc,MAAM,KAAK,mBACzC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;sCAAE;;;;;;;;;;;oBAIN,cAAc,MAAM,GAAG,mBACtB,8OAAC;wBAAI,WAAU;;4BAEZ,4BACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAA4E;;;;;;kDAGzF,8OAAC;wCAAE,WAAU;kDAA0B;;;;;;;;;;;;0CAK3C,8OAAC;gCAAI,WAAU;0CACZ,cAAc,GAAG,CAAC,CAAC,MAAM,oBACxB,8OAAC;wCAEC,WAAU;kDAEV,cAAA,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;8DACZ,MAAM;;;;;;8DAET,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAE,WAAU;8EACV,KAAK,IAAI;;;;;;8EAEZ,8OAAC;oEAAK,WAAU;;wEAA6B;wEACzC,KAAK,SAAS;wEAAC;;;;;;;;;;;;;wDAGpB,KAAK,OAAO,kBACX,8OAAC;4DAAE,WAAU;sEACV,KAAK,OAAO;;;;;;wDAGhB,KAAK,IAAI,kBACR,8OAAC;4DAAI,WAAU;sEACb,cAAA,8OAAC;0EAAM,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;;;;uCAvBnB;;;;;;;;;;4BAgCV,8BACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;;;;;;kDAChB,8OAAC;wCAAE,WAAU;kDAA2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQxD"}},
    {"offset": {"line": 733, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ntq.L-AI-TUNV4/ai-banner-app/src/app/editor/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useSearchParams } from \"next/navigation\";\nimport toast from \"react-hot-toast\";\nimport { PromptEditor } from \"./prompt-editor\";\nimport { DesignPreview } from \"./design-preview\";\nimport { ThinkingPanel } from \"./thinking-panel\";\n\ninterface Concept {\n  headline: string;\n  subheadline: string;\n  cta: string;\n  styleGuide: {\n    colors: string[];\n    font: string;\n    mood: string;\n  };\n}\n\ninterface Analysis {\n  summary: string;\n  tone: string;\n  audience: string;\n  conceptSuggestions: Concept[];\n  recommendedPrompt: string;\n}\n\nexport default function EditorPage() {\n  const searchParams = useSearchParams();\n  const urlParam = searchParams.get(\"url\");\n\n  const [url, setUrl] = useState(urlParam || \"\");\n  const [analysis, setAnalysis] = useState<Analysis | null>(null);\n  const [selectedConcept, setSelectedConcept] = useState<Concept | null>(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [isGenerating, setIsGenerating] = useState(false);\n\n  const [currentDesign, setCurrentDesign] = useState<{\n    imageUrl?: string;\n    htmlLayout?: string;\n    css?: string;\n    promptUsed?: string;\n    thinkingSteps?: Array<{\n      step: string;\n      timestamp: number;\n      content?: string;\n      code?: string;\n    }>;\n  } | null>(null);\n\n  const [userPrompt, setUserPrompt] = useState(\"\");\n\n  // Analyze URL on mount if URL param exists\n  useEffect(() => {\n    if (urlParam && !analysis) {\n      handleAnalyze(urlParam);\n    }\n  }, [urlParam]);\n\n  const handleAnalyze = async (urlToAnalyze: string) => {\n    setIsAnalyzing(true);\n    try {\n      const response = await fetch(\"/api/analyze-url\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ url: urlToAnalyze }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(error.error || \"Failed to analyze URL\");\n        return;\n      }\n\n      const data = await response.json();\n      setAnalysis(data.analysis);\n      setUrl(data.url);\n      if (data.analysis.conceptSuggestions.length > 0) {\n        setSelectedConcept(data.analysis.conceptSuggestions[0]);\n      }\n      toast.success(\"Website analyzed successfully!\");\n    } catch (error) {\n      console.error(\"Analysis error:\", error);\n      toast.error(\"Failed to analyze URL. Please check your connection.\");\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  const handleGenerate = async () => {\n    if (!selectedConcept && !userPrompt.trim()) {\n      toast.error(\"Please select a concept or enter a prompt\");\n      return;\n    }\n\n    setIsGenerating(true);\n    setCurrentDesign(null);\n    toast.loading(\"Generating your banner...\", { id: \"generate\" });\n\n    try {\n      const response = await fetch(\"/api/generate-design\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          urlInfo: { url },\n          concept: selectedConcept,\n          promptOverrides: userPrompt.trim() || undefined,\n          mode: \"both\", // Generate both image and HTML/CSS\n        }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(error.error || \"Failed to generate design\", {\n          id: \"generate\",\n        });\n        return;\n      }\n\n      const data = await response.json();\n      setCurrentDesign(data);\n      toast.success(\"Banner generated successfully!\", { id: \"generate\" });\n    } catch (error) {\n      console.error(\"Generation error:\", error);\n      toast.error(\"Failed to generate design. Please try again.\", {\n        id: \"generate\",\n      });\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const handleRegenerate = async () => {\n    if (!currentDesign?.promptUsed) {\n      toast.error(\"No existing design to regenerate\");\n      return;\n    }\n\n    setIsGenerating(true);\n    toast.loading(\"Regenerating banner...\", { id: \"regenerate\" });\n\n    try {\n      const response = await fetch(\"/api/regenerate\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          basePrompt: currentDesign.promptUsed,\n          userPrompt: userPrompt.trim() || \"Make it more modern and eye-catching\",\n          mode: \"both\",\n        }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(error.error || \"Failed to regenerate\", { id: \"regenerate\" });\n        return;\n      }\n\n      const data = await response.json();\n      setCurrentDesign(data);\n      toast.success(\"Banner regenerated!\", { id: \"regenerate\" });\n    } catch (error) {\n      console.error(\"Regeneration error:\", error);\n      toast.error(\"Failed to regenerate. Please try again.\", {\n        id: \"regenerate\",\n      });\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  return (\n    <div className=\"mx-auto flex min-h-[calc(100vh-4rem)] max-w-[1920px] flex-col gap-4 px-4 py-4 lg:flex-row lg:gap-6\">\n      {/* Left Column: URL Info + Concepts + Prompt Editor */}\n      <div className=\"flex w-full flex-col gap-4 lg:w-80 lg:flex-shrink-0\">\n        <div className=\"space-y-4 rounded-xl border border-slate-800 bg-slate-900/70 p-4\">\n          <div className=\"space-y-2\">\n            <label className=\"text-xs font-semibold uppercase tracking-[0.14em] text-slate-400\">\n              Website URL\n            </label>\n            <div className=\"flex gap-2\">\n              <input\n                type=\"url\"\n                value={url}\n                onChange={(e) => setUrl(e.target.value)}\n                placeholder=\"https://example.com\"\n                className=\"flex-1 rounded-lg border border-slate-700 bg-slate-950/60 px-3 py-2 text-xs text-slate-100 placeholder:text-slate-500 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500/50\"\n                disabled={isAnalyzing}\n              />\n              <button\n                onClick={() => url && handleAnalyze(url)}\n                disabled={isAnalyzing || !url.trim()}\n                className=\"rounded-lg bg-indigo-500 px-3 py-2 text-xs font-medium text-white transition hover:bg-indigo-400 disabled:opacity-50\"\n              >\n                {isAnalyzing ? \"...\" : \"Analyze\"}\n              </button>\n            </div>\n          </div>\n\n          {analysis && (\n            <div className=\"space-y-3 border-t border-slate-800 pt-3\">\n              <div className=\"space-y-1 text-xs\">\n                <p className=\"font-semibold text-slate-300\">Summary</p>\n                <p className=\"text-slate-400\">{analysis.summary}</p>\n              </div>\n              <div className=\"grid grid-cols-2 gap-2 text-[10px]\">\n                <div>\n                  <p className=\"text-slate-500\">Tone</p>\n                  <p className=\"text-slate-300\">{analysis.tone}</p>\n                </div>\n                <div>\n                  <p className=\"text-slate-500\">Audience</p>\n                  <p className=\"text-slate-300 truncate\">{analysis.audience}</p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {analysis?.conceptSuggestions && (\n            <div className=\"space-y-2 border-t border-slate-800 pt-3\">\n              <p className=\"text-xs font-semibold uppercase tracking-[0.14em] text-slate-400\">\n                Concepts\n              </p>\n              {analysis.conceptSuggestions.map((concept, idx) => (\n                <button\n                  key={idx}\n                  onClick={() => setSelectedConcept(concept)}\n                  className={`w-full rounded-lg border p-3 text-left text-xs transition ${\n                    selectedConcept === concept\n                      ? \"border-indigo-500 bg-indigo-500/10\"\n                      : \"border-slate-800 bg-slate-950/60 hover:border-slate-700\"\n                  }`}\n                >\n                  <p className=\"font-medium text-slate-100\">\n                    {concept.headline}\n                  </p>\n                  <p className=\"mt-1 text-slate-400\">{concept.subheadline}</p>\n                  <p className=\"mt-2 text-[10px] text-slate-500\">\n                    {concept.styleGuide.mood}\n                  </p>\n                </button>\n              ))}\n            </div>\n          )}\n        </div>\n\n        <PromptEditor\n          basePrompt={analysis?.recommendedPrompt || \"\"}\n          userPrompt={userPrompt}\n          onPromptChange={setUserPrompt}\n          onGenerate={handleGenerate}\n          onRegenerate={handleRegenerate}\n          isGenerating={isGenerating}\n          hasDesign={!!currentDesign}\n        />\n      </div>\n\n      {/* Center Column: Design Preview */}\n      <div className=\"flex-1\">\n        <DesignPreview\n          design={currentDesign}\n          isGenerating={isGenerating}\n          selectedConcept={selectedConcept}\n        />\n      </div>\n\n      {/* Right Column: Thinking Panel */}\n      <div className=\"w-full lg:w-80 lg:flex-shrink-0\">\n        <ThinkingPanel\n          thinkingSteps={currentDesign?.thinkingSteps || []}\n          promptUsed={currentDesign?.promptUsed}\n          isGenerating={isGenerating}\n        />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}